# Introduction

This action injects network failures by blocking outbound connections to specified hosts during AWS Lambda function execution.

# Prerequisites

- The target AWS Lambda function must [be wrapped with the failure-lambda library](https://github.com/steadybit/failure-lambda#how-to-install-with-parameter-in-ssm-parameter-store).
- Only one failure injection can be active per Lambda function at a time

# Details

This action uses the [steadybit/failure-lambda](https://github.com/steadybit/failure-lambda) library, a Node.js module that wraps AWS Lambda handlers to enable failure injection.
Failure modes are configured via parameters stored in AWS Systems Manager Parameter Store, which are automatically removed after execution completes.

Activation and deactivation of failure modes typically complete within 5 seconds. However, middleware layers or caching mechanisms may extend this duration during both injection and recovery phases.

# Use Cases

- Validate Lambda function behavior and error handling when external dependencies become unreachable
- Test resilience patterns such as circuit breakers, retries, and fallback mechanisms

# Parameters

| Parameter | Description                                                           | Default |
|-----------|-----------------------------------------------------------------------|---------|
| Duration  | Duration of the attack                                                | 30s     |
| Rate      | Percentage of invocations affected (100 = all invocations, 50 = half) | 100%    |
| Deny List | Regular expressions matching hosts to block                           |         |
