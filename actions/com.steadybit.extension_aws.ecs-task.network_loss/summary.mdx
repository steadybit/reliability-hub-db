# Introduction

Cause packet loss for outgoing network traffic (egress).

# Details

This attack will run the `AWSFIS-Run-Network-Packet-Loss-ECS` SSM document on the target ECS task using the SSM agent.

# Use Cases

* Understand how your services perform under specific or unreliable network conditions.

# Prerequisites

* [The ECS task must have the SSM agent installed and running.](https://github.com/steadybit/extension-aws/blob/main/README-ecs-ssm-setup.md)
* The ECS task must use the Linux runtime platform
* The ECS task must not have the `execute-command` feature enabled
* The ECS task must have the `enableFaultInjection` feature enabled
* The ECS task must have the `pidMod` property set to `task`
* The ECS task must have the `networkMode` property set to a value other than `bridge`

# Rollback

The network attack will be stopped by cancelling the SSM command running on the SSM agent.

# Parameters

| Parameter       | Description                                                                                                                     | Default |
|-----------------|---------------------------------------------------------------------------------------------------------------------------------|---------|
| Duration        | Duration of the attack.                                                                                                         | 30s     |
| Network Loss    | How much of the traffic should be lost?                                                                                         | 70%     |
| IP Address/CIDR | Restrict to which IP addresses, CIDR blocks or domain names the traffic is affected. If not specified, all traffic is affected. |         |
