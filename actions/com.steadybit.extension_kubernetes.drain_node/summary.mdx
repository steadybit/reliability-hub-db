# Introduction

Use the attack to drain one or multiple nodes. The nodes are drained via `kubectl drain`.

Some details:
 - Steadybit agents and extensions are excluded from the drain
 - kubectl parameter `force` is used to continue even if there are pods that do not declare a controller
 - kubectl parameter `ignore-daemonsets` is used to ignore daemonsets
 - kubectl parameter `delete-emptydir-data` is used to delete local data of pods using `emptyDir`


# Use Cases

 - Check your application failover when a node is drained
 - Check if new nodes are created by your autoscaler (in combination with [node count check](https://hub.steadybit.com/action/com.steadybit.extension_kubernetes.node_count_check))

# Parameters

| Parameter | Description                                       | Default |
|-----------|---------------------------------------------------|---------|
| Duration  | How long should the node keep drained / cordoned? | 180s    |

# Rollback
A drained node will be automatically uncorden after the given duration or in case of an error to rollback the effect.